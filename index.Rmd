---
title: "R User Groups"
output: 
  flexdashboard::flex_dashboard:
    orientation: rows
    vertical_layout: scroll
    self_contained: false
    includes:
      after_body: "afterInit.html"
    css: css/custom.css
---

```{r setup, include=FALSE}
library(flexdashboard)
library(stringr)
library(dplyr)
library(lubridate)
library(echarts4r)
devtools::load_all()
```

```{r read_data, include=FALSE}
rugs_full <- read_rugs()
rugs_cumul <- read_cumulative()
rugs_stats <- read_summary()[[1]]
rugs_locations <- read_summary()[[2]]

mycolor <- c("#2780e3","#003636","#a9a9a9", "#91c8c8")
```

```{r process, include=FALSE, cache=TRUE}

by_year <- rugs_cumul %>% 
  mutate(year = floor_date(datecreated, "year")) %>% 
  count(year)

years <- by_year %>% 
  pull(year) %>% 
  length()
```


Sidebar {.sidebar data-width=200}
=====================================

<div class="sidebar-pages">
<a class="navlink" href="#home" data-toggle="tab" aria-expanded="false"><i class="fa fa-home"></i> Home</a>
</div>


Home
=====================================

Row
-------------------------------------

### R User Groups

```{r}
valueBox(rugs_stats %>% pull(chapters), icon = "fa-users", color = "#435f9c")
```

### Members

```{r}
valueBox(rugs_stats %>% pull(members), icon = "fa-user", color = "#0586c4")
```

### Countries

```{r}
valueBox(rugs_stats %>% pull(countries), icon = "fa-globe", color = "#435f9c")
```

### Cities

```{r}
valueBox(rugs_stats %>% pull(city), icon = "fa-map-marker", color = "#0586c4")
```

Row
-----------------------------------------------------------------------

### Past Events

```{r}
valueBox(rugs_stats %>% pull(past_events), icon = "fa-calendar-minus-o", color = "#435f9c")
```

### Upcoming Events

```{r}
valueBox(rugs_stats %>% pull(upcoming_events), icon = "fa-calendar-plus-o", color = "#0586c4")
```

### Years

```{r}
valueBox(years, icon = "fa-calendar", color = "#435f9c")
```

Row
-----------------------------------------------------------------------

